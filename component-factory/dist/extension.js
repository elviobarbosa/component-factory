"use strict";var $=Object.create;var w=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var K=Object.getPrototypeOf,S=Object.prototype.hasOwnProperty;var R=(e,n)=>{for(var o in n)w(e,o,{get:n[o],enumerable:!0})},u=(e,n,o,t)=>{if(n&&typeof n=="object"||typeof n=="function")for(let a of x(n))!S.call(e,a)&&a!==o&&w(e,a,{get:()=>n[a],enumerable:!(t=v(n,a))||t.enumerable});return e};var m=(e,n,o)=>(o=e!=null?$(K(e)):{},u(n||!e||!e.__esModule?w(o,"default",{value:e,enumerable:!0}):o,e)),E=e=>u(w({},"__esModule",{value:!0}),e);var j={};R(j,{activate:()=>F});module.exports=E(j);var p=m(require("vscode")),s=m(require("fs")),i=m(require("path"));function F(e){let n=p.commands.registerCommand("component-factory.createComponent",async o=>{if(!o||!o.fsPath){p.window.showWarningMessage("Selecione a pasta do componente modelo.");return}let t=await p.window.showInputBox({prompt:"Nome do novo componente (em kebab-case, ex: user-profile)",placeHolder:"user-profile"});if(!t)return;let a=i.basename(o.fsPath),f=h(a),l=C(a),d=h(t),b=C(t),c=p.window.createOutputChannel("Component Factory");c.show(!0),c.appendLine(`\u{1F4C1} Pasta modelo: ${o.fsPath}`),c.appendLine(`\u{1F50D} Substituindo:
  ${a} \u2192 ${t}
  ${f} \u2192 ${d}
  ${l} \u2192 ${b}`);let r=o.fsPath,P=i.dirname(r),g=i.join(P,t);s.existsSync(g)||s.mkdirSync(g),y(r,g,{oldKebab:a,oldPascal:f,oldCamel:l},{newKebab:t,newPascal:d,newCamel:b},c),p.window.showInformationMessage(`\u2705 Componente '${d}' criado com sucesso!`)});e.subscriptions.push(n)}function y(e,n,o,t,a){let f=s.readdirSync(e,{withFileTypes:!0});for(let l of f){let d=i.join(e,l.name),b=l.name.replace(new RegExp(o.oldKebab,"g"),t.newKebab),c=i.join(n,b);if(l.isDirectory())s.existsSync(c)||s.mkdirSync(c),y(d,c,o,t,a);else{let r=s.readFileSync(d,"utf8");r=r.replace(new RegExp(o.oldPascal,"g"),t.newPascal).replace(new RegExp(o.oldCamel,"g"),t.newCamel).replace(new RegExp(o.oldKebab,"g"),t.newKebab),r=r.replace(new RegExp(`app-${o.oldKebab}`,"g"),`app-${t.newKebab}`),r=r.replace(new RegExp(`(['"]\\.\\/[^'"]*?)${o.oldKebab}`,"gi"),`$1${t.newKebab}`),s.writeFileSync(c,r,"utf8"),a.appendLine(`\u270F\uFE0F ${i.relative(n,c)}`)}}}function h(e){return e.split(/[-_]/).map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join("")}function C(e){let n=h(e);return n.charAt(0).toLowerCase()+n.slice(1)}0&&(module.exports={activate});
